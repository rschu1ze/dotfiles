# TODO: integrate with pass manager

set from = "rs.github@mailbox.org"
set realname = "Robert Schulze"

# TODO maybe use an alias file in future
# TODO delete section

# IMAP settings
set folder = "imaps://imap.mailbox.org:993"
set imap_user = ""
set imap_pass = ""
set spoolfile = "+INBOX"
set imap_check_subscribed
unset imap_passive
set mail_check = 45
set timeout = 90
set imap_keepalive = 300
set mail_check_stats
set record = "+Sent"
set postponed = "+Drafts"
# set trash = "+Trash" # TODO check

# SMTP settings
set smtp_url = ""
set smtp_pass = ""

# appearance settings
# unset help # to be turned off in future
set date_format="%Y-%m-%d %T"
set index_format = "[%Z]  %D  %-20.20F  %s"
set pager_index_lines=30
set pager_stop
set menu_scroll
set tilde
unset markers
set sidebar_visible = yes
set sidebar_width = 30
set sidebar_format = "%B%?F? [%F]?%* %?N?%N/?%S"
set sidebar_short_path
set sidebar_delim_chars="/"
set sidebar_folder_indent
set abort_key = "<Esc>"
set editor = "nvim"
set sort = "threads"
set sort_aux = "reverse-last-date-received"
set header_cache = "~/.cache/mutt/headers"
set message_cachedir = "~/.cache/mutt/bodies"
ignore *
unignore from: to: cc: date: subject:
hdr_order from: to: cc: date: subject:
set fast_reply
set include
set forward_format = "Fwd: %s"
set forward_quote
set reply_to
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"
unset mark_old
# set delete # dangerous
# unset confirmappend # maybe in future if this becomes annoying

# keybindings
bind index p recall-message
bind index g noop
bind index gg first-entry
bind index G noop
bind index GG last-entry
bind index <tab> sync-mailbox
bind index <space> collapse-thread
bind index,pager <down> sidebar-next
bind index,pager <up> sidebar-prev
bind index,pager <right> sidebar-open
bind index,pager R group-reply
bind index,pager N search-opposite
bind index "^" imap-fetch-mail
bind pager j next-line
bind pager k previous-line
bind pager g noop
bind pager gg top
bind pager GG bottom
bind compose p postpone-message

# macros
macro index a "<limit>all\n" "show all messages (undo limit)" # restores index after limit search
macro index,pager c "<change-folder>?<toggle-mailboxes><tab>" "open a different folder"
macro index,pager C "<copy-message>?<toggle-mailboxes><tab>" "copy a message to a mailbox"
macro index,pager M "<save-message>?<toggle-mailboxes><tab>" "move a message to a mailbox"

# Colors: https://git.sthu.org/?p=mutt-gruvbox.git
source ~/.config/neomutt/colors-gruvbox-shuber.muttrc
source ~/.config/neomutt/colors-gruvbox-shuber-extended.muttrc
